<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CALCARE AI - 영양성분 정보</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        /* RTL Support */
        [dir="rtl"] {
            direction: rtl;
            text-align: right;
        }
        
        /* Animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.6s ease-out forwards;
        }
        
        /* Card hover effects */
        .hover-card {
            transition: all 0.3s ease;
        }
        
        .hover-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }
        
        /* Gradient backgrounds */
        .gradient-green {
            background: linear-gradient(135deg, #34D399 0%, #10B981 100%);
        }
        
        .gradient-blue {
            background: linear-gradient(135deg, #60A5FA 0%, #3B82F6 100%);
        }
        
        .gradient-purple {
            background: linear-gradient(135deg, #A78BFA 0%, #8B5CF6 100%);
        }
        
        .gradient-red {
            background: linear-gradient(135deg, #F87171 0%, #EF4444 100%);
        }
        
        .gradient-orange {
            background: linear-gradient(135deg, #FB923C 0%, #F97316 100%);
        }
    </style>
</head>
<body class="bg-gray-50">
    <div class="min-h-screen">
        <!-- Header -->
        <header class="gradient-green text-white py-6 shadow-lg">
            <div class="container mx-auto px-4">
                <div class="flex items-center justify-between">
                    <div>
                        <h1 class="text-3xl font-bold flex items-center">
                            <i class="fas fa-leaf mr-3"></i>
                            <span id="pageTitle">영양성분 정보</span>
                        </h1>
                        <p class="text-white/90 mt-2" id="pageSubtitle">칼로리 기반 영양 분석 및 건강 정보</p>
                    </div>
                    <button onclick="goBack()" class="bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-all">
                        <i class="fas fa-arrow-left mr-2"></i>
                        <span id="backBtn">메인으로</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Language Selector -->
        <div class="bg-white shadow-sm py-3 sticky top-0 z-10">
            <div class="container mx-auto px-4">
                <div class="flex justify-center gap-2 flex-wrap">
                    <button class="lang-btn px-4 py-2 rounded-lg text-sm font-medium transition-all bg-green-500 text-white" data-lang="ko">한국어</button>
                    <button class="lang-btn px-4 py-2 rounded-lg text-sm font-medium transition-all bg-gray-200 text-gray-700 hover:bg-gray-300" data-lang="en">English</button>
                    <button class="lang-btn px-4 py-2 rounded-lg text-sm font-medium transition-all bg-gray-200 text-gray-700 hover:bg-gray-300" data-lang="zh">中文</button>
                    <button class="lang-btn px-4 py-2 rounded-lg text-sm font-medium transition-all bg-gray-200 text-gray-700 hover:bg-gray-300" data-lang="ja">日本語</button>
                    <button class="lang-btn px-4 py-2 rounded-lg text-sm font-medium transition-all bg-gray-200 text-gray-700 hover:bg-gray-300" data-lang="vi">Tiếng Việt</button>
                    <button class="lang-btn px-4 py-2 rounded-lg text-sm font-medium transition-all bg-gray-200 text-gray-700 hover:bg-gray-300" data-lang="ar">العربية</button>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <main class="container mx-auto px-4 py-8">
            <!-- Section 1: 칼로리로 직접 확인 가능한 정보 -->
            <section class="mb-12">
                <div class="text-center mb-8 fade-in">
                    <h2 class="text-3xl font-bold text-gray-800 mb-2" id="section1Title">칼로리로 직접 확인 가능한 정보</h2>
                    <p class="text-gray-600" id="section1Subtitle">음식 사진 인식 결과로 즉시 제공 가능</p>
                </div>
                <div id="features" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Features will be dynamically rendered -->
                </div>
            </section>

            <!-- Section 2: 칼로리로 계산 가능한 정보 -->
            <section class="mb-12">
                <div class="text-center mb-8 fade-in">
                    <h2 class="text-3xl font-bold text-gray-800 mb-2" id="section2Title">칼로리로 계산 가능한 정보</h2>
                    <p class="text-gray-600" id="section2Subtitle">개인 건강 정보와 칼로리 데이터 결합 분석</p>
                </div>
                <div id="calculations" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Calculations will be dynamically rendered -->
                </div>
            </section>

            <!-- Section 3: 칼로리 데이터로 가능한 위험 신호 -->
            <section class="mb-12">
                <div class="text-center mb-8 fade-in">
                    <h2 class="text-3xl font-bold text-gray-800 mb-2" id="section3Title">칼로리 데이터로 가능한 위험 신호</h2>
                    <p class="text-gray-600" id="section3Subtitle">질병 예방을 위한 조기 경고 시스템</p>
                </div>
                <div id="risks" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Risks will be dynamically rendered -->
                </div>
            </section>

            <!-- Section 4: 칼로리만으로는 불가능한 정보 -->
            <section class="mb-12">
                <div class="text-center mb-8 fade-in">
                    <h2 class="text-3xl font-bold text-gray-800 mb-2" id="section4Title">칼로리만으로는 불가능한 정보</h2>
                    <p class="text-gray-600" id="section4Subtitle">영양성분 DB 연동 필수</p>
                </div>
                <div id="limitations" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Limitations will be dynamically rendered -->
                </div>
            </section>

            <!-- Conclusion -->
            <section class="mb-12">
                <div class="text-center mb-8 fade-in">
                    <h2 class="text-3xl font-bold text-gray-800 mb-2" id="conclusionTitle">결론 및 권장사항</h2>
                    <p class="text-gray-600" id="conclusionSubtitle">통합 시스템의 필요성</p>
                </div>
                <div id="conclusion" class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <!-- Conclusion will be dynamically rendered -->
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="bg-gray-800 text-white py-6">
            <div class="container mx-auto px-4 text-center">
                <p>&copy; 2024 CALCARE AI. All rights reserved.</p>
                <p class="text-gray-400 text-sm mt-2">AI 기반 칼로리 계산 및 질병 예측 플랫폼</p>
            </div>
        </footer>
    </div>

    <script src="/static/i18n.js"></script>
    <script src="/static/nutrition-data.js"></script>
    <script>
        let currentLang = 'ko';

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            renderContent();
            setupLanguageButtons();
        });

        // Setup language buttons
        function setupLanguageButtons() {
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    currentLang = btn.dataset.lang;
                    
                    // Update button styles
                    document.querySelectorAll('.lang-btn').forEach(b => {
                        b.classList.remove('bg-green-500', 'text-white');
                        b.classList.add('bg-gray-200', 'text-gray-700');
                    });
                    btn.classList.remove('bg-gray-200', 'text-gray-700');
                    btn.classList.add('bg-green-500', 'text-white');
                    
                    // Update RTL for Arabic
                    if (currentLang === 'ar') {
                        document.documentElement.setAttribute('dir', 'rtl');
                    } else {
                        document.documentElement.removeAttribute('dir');
                    }
                    
                    renderContent();
                });
            });
        }

        // Render all content
        function renderContent() {
            const data = nutritionInfoData[currentLang];
            
            // Update header
            document.getElementById('pageTitle').textContent = data.pageTitle;
            document.getElementById('pageSubtitle').textContent = data.pageSubtitle;
            document.getElementById('backBtn').textContent = data.backButton;
            
            // Update section titles
            document.getElementById('section1Title').textContent = data.section1Title;
            document.getElementById('section1Subtitle').textContent = data.section1Subtitle;
            document.getElementById('section2Title').textContent = data.section2Title;
            document.getElementById('section2Subtitle').textContent = data.section2Subtitle;
            document.getElementById('section3Title').textContent = data.section3Title;
            document.getElementById('section3Subtitle').textContent = data.section3Subtitle;
            document.getElementById('section4Title').textContent = data.section4Title;
            document.getElementById('section4Subtitle').textContent = data.section4Subtitle;
            document.getElementById('conclusionTitle').textContent = data.conclusion.title;
            document.getElementById('conclusionSubtitle').textContent = data.conclusion.subtitle;
            
            // Render features
            renderFeatures(data.features);
            
            // Render calculations
            renderCalculations(data.calculations);
            
            // Render risks
            renderRisks(data.risks);
            
            // Render limitations
            renderLimitations(data.limitations);
            
            // Render conclusion
            renderConclusion(data.conclusion);
        }

        // Render features section
        function renderFeatures(features) {
            const container = document.getElementById('features');
            container.innerHTML = features.map(feature => `
                <div class="bg-white rounded-xl p-6 shadow-lg hover-card fade-in">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 rounded-full gradient-green flex items-center justify-center text-white text-xl">
                            <i class="fas ${feature.icon}"></i>
                        </div>
                        <h3 class="ml-4 text-lg font-bold text-gray-800">${feature.title}</h3>
                    </div>
                    <ul class="space-y-2">
                        ${feature.items.map(item => `
                            <li class="flex items-start text-gray-600">
                                <i class="fas fa-check-circle text-green-500 mt-1 mr-2 flex-shrink-0"></i>
                                <span>${item}</span>
                            </li>
                        `).join('')}
                    </ul>
                </div>
            `).join('');
        }

        // Render calculations section
        function renderCalculations(calculations) {
            const container = document.getElementById('calculations');
            container.innerHTML = calculations.map(calc => `
                <div class="bg-white rounded-xl p-6 shadow-lg hover-card fade-in">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 rounded-full gradient-blue flex items-center justify-center text-white text-xl">
                            <i class="fas ${calc.icon}"></i>
                        </div>
                        <h3 class="ml-4 text-lg font-bold text-gray-800">${calc.title}</h3>
                    </div>
                    <ul class="space-y-2">
                        ${calc.items.map(item => `
                            <li class="flex items-start text-gray-600">
                                <i class="fas fa-calculator text-blue-500 mt-1 mr-2 flex-shrink-0"></i>
                                <span>${item}</span>
                            </li>
                        `).join('')}
                    </ul>
                </div>
            `).join('');
        }

        // Render risks section
        function renderRisks(risks) {
            const container = document.getElementById('risks');
            container.innerHTML = risks.map(risk => `
                <div class="bg-white rounded-xl p-6 shadow-lg hover-card fade-in border-l-4 border-${risk.color}-500">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 rounded-full gradient-${risk.color} flex items-center justify-center text-white text-xl">
                            <i class="fas ${risk.icon}"></i>
                        </div>
                        <h3 class="ml-4 text-lg font-bold text-gray-800">${risk.title}</h3>
                    </div>
                    <ul class="space-y-2">
                        ${risk.items.map(item => `
                            <li class="flex items-start text-gray-600">
                                <i class="fas fa-exclamation-circle text-${risk.color}-500 mt-1 mr-2 flex-shrink-0"></i>
                                <span>${item}</span>
                            </li>
                        `).join('')}
                    </ul>
                </div>
            `).join('');
        }

        // Render limitations section
        function renderLimitations(limitations) {
            const container = document.getElementById('limitations');
            container.innerHTML = limitations.map(limitation => `
                <div class="bg-gray-100 rounded-xl p-6 shadow-lg hover-card fade-in opacity-75">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 rounded-full bg-gray-400 flex items-center justify-center text-white text-xl">
                            <i class="fas ${limitation.icon}"></i>
                        </div>
                        <h3 class="ml-4 text-lg font-bold text-gray-700">${limitation.title}</h3>
                    </div>
                    <p class="text-gray-600 mb-3">${limitation.description}</p>
                    <div class="bg-white rounded-lg p-3 border-l-4 border-red-400">
                        <p class="text-sm text-gray-700">
                            <i class="fas fa-database text-red-500 mr-2"></i>
                            <strong>필요:</strong> ${limitation.required}
                        </p>
                    </div>
                </div>
            `).join('');
        }

        // Render conclusion section
        function renderConclusion(conclusion) {
            const container = document.getElementById('conclusion');
            container.innerHTML = conclusion.points.map(point => `
                <div class="bg-white rounded-xl p-6 shadow-lg hover-card fade-in">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 rounded-full gradient-${point.color} flex items-center justify-center text-white text-xl">
                            <i class="fas ${point.icon}"></i>
                        </div>
                        <h3 class="ml-4 text-lg font-bold text-gray-800">${point.title}</h3>
                    </div>
                    <ul class="space-y-2">
                        ${point.items.map(item => `
                            <li class="flex items-start text-gray-600">
                                <i class="fas fa-check text-${point.color}-500 mt-1 mr-2 flex-shrink-0"></i>
                                <span>${item}</span>
                            </li>
                        `).join('')}
                    </ul>
                </div>
            `).join('');
        }

        // Go back to main page
        function goBack() {
            window.location.href = '/';
        }
    </script>
</body>
</html>
